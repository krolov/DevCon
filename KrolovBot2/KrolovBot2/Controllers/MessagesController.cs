using System;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Threading.Tasks;
using System.Web.Http;
using System.Web.Http.Description;
using Microsoft.Bot.Connector;
using Newtonsoft.Json;
using Microsoft.ProjectOxford.Linguistics;
using Microsoft.ProjectOxford.Linguistics.Contract;
using System.Text.RegularExpressions;
using System.Collections.Generic;

namespace KrolovBot2
{
    [BotAuthentication]
    public class MessagesController : ApiController
    {
        /// <summary>
        /// POST: api/Messages
        /// Receive a message from a user and reply to it
        /// </summary>
        public async Task<HttpResponseMessage> Post([FromBody]Activity activity)
        {
            if (activity.Type == ActivityTypes.Message)
            {
                ConnectorClient connector = new ConnectorClient(new Uri(activity.ServiceUrl));

                var Client = new LinguisticsClient("d1ce5a3061074f24a27286d1b4b1083a");

                var Analyzers = await Client.ListAnalyzersAsync();

                var Req = new AnalyzeTextRequest();
                Req.Language = "en";
                Req.Text = activity.Text;
                // Req.AnalyzerIds = (from x in Analyzers select x.Id).ToArray();
                Req.AnalyzerIds = new Guid[] { Analyzers[1].Id };
                var Res = await Client.AnalyzeTextAsync(Req);
                // Console.WriteLine(Res[0].Result);
                
                // calculate something for us to return
                //int length = (activity.Text ?? string.Empty).Length;

                //var pattern = @"\((.*?)\)";
                //var pattern = @"(?<=\()(?:\([^()]*\)|[^()])*(?=\))";
                //var matches = Regex.Matches(Res[0].Result.ToString(), pattern);

                //var s = RemoveOuterParenthesis(Res[0].Result.ToString());
                /*
            foreach (Match m in matches)
            {
                Console.WriteLine(m.Groups[1]);
            }
            */
               IEnumerable<String> phrase = Nested(Res[0].Result.ToString());

                string replay_string = "";
                Random rand = new Random();
                foreach (string s in phrase)
                {
                    string[] words = s.Split(' ');
                    replay_string += GiveMeWord(words[0],words[1],rand) + " ";
                }

                Activity reply = activity.CreateReply(replay_string);
                //Activity reply = activity.CreateReply($"You sent {activity.Text} which was {length} characters");
                await connector.Conversations.ReplyToActivityAsync(reply);
            }
            else
            {
                HandleSystemMessage(activity);
            }
            var response = Request.CreateResponse(HttpStatusCode.OK);
            return response;
        }


        //Need to change to RegEx
        private IEnumerable<String> Nested(string value)
        {
            string str;
            if (string.IsNullOrEmpty(value))
                yield break; // or throw exception

            Stack<int> brackets = new Stack<int>();

            for (int i = 0; i < value.Length; ++i)
            {
                char ch = value[i];

                if (ch == '(')
                    brackets.Push(i);
                else if (ch == ')')
                {
                    //TODO: you may want to check if close ']' has corresponding open '['
                    // i.e. stack has values: if (!brackets.Any()) throw ...
                    int openBracket = brackets.Pop();
                    str = value.Substring(openBracket + 1, i - openBracket - 1);
                    if (str.IndexOf('(') == -1)
                    {
                        yield return str;
                    }
                    
                }
            }

            //TODO: you may want to check here if there're two many '['
            // i.e. stack still has values: if (brackets.Any()) throw ... 

            //yield return value;
        }

        private Activity HandleSystemMessage(Activity message)
        {
            if (message.Type == ActivityTypes.DeleteUserData)
            {
                // Implement user deletion here
                // If we handle user deletion, return a real message
            }
            else if (message.Type == ActivityTypes.ConversationUpdate)
            {
                // Handle conversation state changes, like members being added and removed
                // Use Activity.MembersAdded and Activity.MembersRemoved and Activity.Action for info
                // Not available in all channels
            }
            else if (message.Type == ActivityTypes.ContactRelationUpdate)
            {
                // Handle add/remove from contact lists
                // Activity.From + Activity.Action represent what happened
            }
            else if (message.Type == ActivityTypes.Typing)
            {
                // Handle knowing tha the user is typing
            }
            else if (message.Type == ActivityTypes.Ping)
            {
            }

            return null;
        }
        private string GiveMeWord(string str, string original, Random rand)
        {
            List<string> names;
            switch (str)
            {
                case "VB":
                case "VBD":
                case "VBG":
                case "VBN":
                case "VBP":
                case "VBZ":
                case "MD":
                    names = new List<string> { "быть", "мочь", "сказать", "говорить", "знать", "стать", "хотеть", "идти", "иметь", "видеть", "думать", "сделать", "жить", "делать", "смотреть", "работать", "понять", "пойти", "спросить", "дать", "понимать", "получить", "сидеть", "оказаться", "взять", "прийти", "являться", "любить", "стоить", "остаться", "выйти", "начать", "считать", "увидеть", "казаться", "писать", "найти", "стоять", "решить", "пройти", "принять", "давать", "ответить", "помнить", "ждать", "находиться", "написать", "оставаться", "играть", "лежать", "подумать", "уйти", "посмотреть", "вернуться", "следовать", "читать", "бывать", "ходить", "начинать", "появиться", "называть", "прийтись", "хотеться", "вести", "показать", "поставить", "бояться", "происходить", "существовать", "становиться", "слышать", "смочь", "заметить", "использовать", "пытаться", "представить", "чувствовать", "создать", "заниматься", "продолжать", "слушать", "узнать", "приехать", "отвечать", "рассказывать", "рассказать", "представлять", "брать", "забыть", "провести", "спать", "помочь", "приходить", "просить", "вспомнить", "открыть", "привести", "оставить", "спрашивать", "принимать", "искать", "войти", "назвать", "успеть", "произойти", "выходить", "предложить", "пить", "глядеть", "ехать", "попасть", "начаться", "верить", "держать", "позволять", "купить", "уходить", "собираться", "относиться", "требовать", "подойти", "удаться", "получать", "умереть", "сесть", "случиться", "проходить", "составлять", "приходиться", "установить", "поднять", "стараться", "уметь", "встать", "проводить", "бросить", "объяснить", "снять", "нравиться", "услышать", "связать", "позволить", "поехать", "положить", "входить", "оказываться", "показывать", "вызвать", "касаться", "отметить", "заявить", "действовать", "получиться", "кричать", "остановиться", "предлагать", "убить", "молчать", "согласиться", "сообщить", "бежать", "петь", "вызывать", "показаться", "принести", "выглядеть", "служить", "попросить", "состоять", "отдать", "выступать", "ставить", "возникать", "надеяться", "подняться", "вспоминать", "называться", "помогать", "значить", "возникнуть", "звать", "позвонить", "хватать", "выпить", "потерять", "иметься", "получаться", "учиться", "возвращаться", "расти", "обнаружить", "почувствовать", "передать", "желать", "ожидать", "составить", "нести", "определить", "пользоваться", "улыбнуться", "появляться", "смеяться", "уехать", "подходить", "судить", "родиться", "отказаться", "считаться", "занять", "добавить", "звонить", "носить", "начинаться", "зависеть", "построить", "создавать", "встретить", "принадлежать", "произнести", "участвовать", "занимать", "улыбаться", "направить", "обратиться", "выбрать", "бить", "хватить", "обещать", "встречаться", "напоминать", "упасть", "перестать", "обладать", "плакать", "состояться", "поверить", "собрать", "простить", "рассматривать", "перейти", "мешать", "исчезнуть", "объявить", "отличаться", "обращаться", "снимать", "пригласить", "соответствовать", "закрыть", "придумать", "попробовать", "приводить", "достигнуть", "утверждать", "означать", "платить", "решать", "определять", "наблюдать", "погибнуть", "разговаривать", "устроить", "есть", "собраться", "достать", "ездить", "понравиться", "выполнять", "заставить", "объяснять", "выполнить", "указать", "вздохнуть", "находить", "закончить", "признать", "дойти", "кивнуть", "обратить", "узнавать", "встретиться", "предусмотреть", "обеспечивать", "двигаться", "содержать", "приезжать", "держаться", "обеспечить", "поступить", "привыкнуть", "открывать", "вырасти", "зайти", "посвятить", "стремиться", "измениться", "удивиться", "падать", "звучать", "суметь", "разработать", "поговорить", "лететь", "совершить", "строить", "кончиться", "привезти", "сложиться", "оставлять", "полагать", "висеть", "повторить", "сыграть", "спасти", "изменить", "повторять", "явиться", "замечать", "подать", "назначить", "протянуть", "сохранить", "попытаться", "расположить", "использоваться", "отправиться", "садиться", "встречать", "говориться", "крикнуть", "готовить", "учить", "гореть", "испытывать", "выделить", "поддерживать", "подниматься", "следить", "требоваться", "включать", "собирать", "менять", "делаться", "покупать", "предполагать", "терять", "послать", "допустить", "прочитать", "присутствовать", "взглянуть", "мечтать", "подписать", "осуществлять", "поступать", "готовиться", "захотеть", "бороться", "отдавать", "остановить", "приобрести", "включить", "продолжаться", "подтвердить", "спешить", "добиться", "отправить", "повернуться", "вставать", "подготовить", "исходить", "свидетельствовать", "ввести", "взяться", "прочесть", "болеть", "вернуть", "тянуть", "продать", "представляться", "произвести", "выступить", "пахнуть", "познакомиться", "наступить", "предстоять", "производить", "перевести", "разрешить", "проверить", "меняться", "выдержать", "учитывать", "курить", "забывать", "заключаться", "выбирать", "напомнить", "закричать", "организовать", "доказать", "приносить", "осуществляться", "дышать", "описать", "прожить", "оценить", "рассмотреть", "проводиться", "лечь", "превратиться", "выпустить", "ударить", "проснуться", "открыться", "способствовать", "научиться", "умирать", "стрелять", "обойтись", "записать", "определяться", "подарить", "приняться", "заставлять", "схватить", "пропасть", "выдать", "извинить", "разобраться", "опустить", "страдать", "заходить", "побежать", "броситься", "гулять", "бегать", "засмеяться", "найтись", "приказать", "устать", "повезти", "рассчитывать", "опубликовать", "радоваться", "выразить", "закончиться", "обернуться", "отпустить", "заговорить", "внести", "устраивать", "выясниться", "догадаться", "изучать", "интересовать", "поднимать", "развиваться", "обращать", "подождать", "продавать", "бросать", "поддержать", "запретить", "отмечать", "отойти", "ощущать", "прибыть", "случаться", "сойти", "поймать", "заключить", "признаться", "сомневаться", "усмехнуться", "договориться", "предоставить", "удаваться", "сходить", "попадать", "пустить", "указывать", "терпеть", "сдать", "вывести", "выпускать", "вступить", "спорить", "вытащить", "победить", "посадить", "обсуждать", "заняться", "переходить", "торопиться", "выиграть", "надеть", "кормить", "переживать", "потребовать", "жалеть", "сохраниться", "вынести", "отказываться", "заглянуть", "защищать", "основать", "лишить", "пожать", "уезжать", "воскликнуть", "дрожать", "сообщать", "жениться", "лезть", "волноваться", "поразить", "велеть", "убивать", "решиться", "добраться", "задуматься", "нуждаться", "позвать", "удивляться", "здравствовать", "передавать", "скрывать", "запомнить", "подавать", "покинуть", "послушать", "пережить", "продолжить", "раздаться", "оказывать", "превышать", "ловить", "забрать", "испугаться", "утвердить", "применять", "убедиться", "заменить", "приглашать", "привлечь", "везти", "убрать", "предположить", "летать", "признавать", "повести", "подчеркнуть", "покрыть", "предпочитать", "прислать", "жаловаться", "решаться", "успокоиться", "исключить", "отсутствовать", "владеть", "торчать", "постараться", "соединить", "убедить", "задавать", "заложить", "реализовать", "выяснить", "исполнять", "общаться", "повернуть", "останавливаться", "совершать", "воевать", "выдавать", "задать", "ненавидеть", "родить", "наступать", "выявить", "предупредить", "набрать", "предназначить", "уничтожить", "учесть", "освободить", "воспринимать", "прекратить", "увеличить", "наблюдаться", "объединить", "подозревать", "справиться", "съесть", "вестись", "отнести", "упомянуть", "отдыхать", "проверять", "врать", "заработать", "превращаться", "создаваться", "плыть", "побывать", "рассматриваться", "уважать", "выскочить", "образоваться", "проговорить", "хранить", "обрадоваться", "пропустить", "танцевать", "дождаться", "избрать", "завести", "захватить", "оглянуться", "описывать", "сунуть", "исчезать", "разделить", "складываться", "последовать", "отражать", "приближаться", "вступать", "надоесть", "интересоваться", "подлежать", "произносить", "раскрыть", "арестовать", "целовать", "орать", "отвести", "тянуться", "достаться", "полагаться", "открываться", "сохранять", "воспользоваться", "махнуть", "приобретать", "сложить", "вскочить", "выражать", "понадобиться", "поглядеть", "сделаться", "поинтересоваться", "признаваться", "высказать", "ложиться", "проявить", "спуститься", "влиять", "довести", "содержаться", "подтверждать", "защитить", "исполнить", "заплатить", "управлять", "спрятать", "привлекать", "исследовать", "нанести", "приготовить", "прыгать", "вынудить", "пояснить", "контролировать", "применяться", "руководить", "строиться", "рассчитать", "шутить", "молиться", "восстановить", "вынуть", "рисовать", "рекомендовать", "приниматься", "настаивать", "придавать", "глянуть", "доставить", "замереть", "оказать", "планировать", "осуществить", "отозваться", "разбить", "разойтись", "перенести", "испытать", "закрывать", "окончить", "оценивать", "нарушить", "ощутить", "научить", "сопровождать", "пробовать", "стучать", "выставить", "напечатать", "прикрыть", "пускать", "сиять", "делиться", "проживать", "изобразить", "изучить", "подвести", "призвать", "производиться", "достигать", "допускать", "посылать", "утратить", "захотеться", "класть", "возразить", "грозить", "подобрать", "образовывать", "предполагаться", "проявлять", "устанавливать", "водить", "помолчать", "постоять", "сдавать", "демонстрировать", "посидеть", "распространить", "спускаться", "догадываться", "изображать", "бродить", "опираться", "посоветовать", "разглядывать", "задержать", "нарисовать", "одеть", "располагаться", "беседовать", "заболеть", "превратить", "доверять", "налить", "отдохнуть", "покачать", "течь", "гнать", "обусловить", "связывать", "удивить", "биться", "браться", "присесть", "тратить", "разрушить", "волновать", "окружить", "плавать", "развивать", "спасать", "видеться", "возглавлять", "обязать", "гордиться", "доказывать", "проявляться", "сообразить", "заказать", "трогать", "завершить", "отменить", "попасться", "поцеловать", "пугать", "избежать", "подхватить", "потрясти", "предоставлять", "советовать", "выбросить", "доложить", "объясняться", "скрыть", "обидеться", "отказать", "повесить", "посетить", "разбираться", "двинуться", "замолчать", "окружать", "успевать", "обрести", "подчеркивать", "переводить", "полезть", "храниться", "вырваться", "заинтересовать", "издать", "помешать", "ценить", "сравнить", "тащить", "совпадать", "благодарить", "направиться", "пообещать", "развернуть", "прозвучать", "соглашаться", "доставать", "зарегистрировать", "обмануть", "обнять", "оглядываться", "опасаться", "сменить", "рассуждать", "украсть", "заявлять", "ошибиться", "повысить", "поручить", "заполнить", "опуститься", "развести", "заплакать", "заслужить", "засыпать", "преодолеть", "трудиться", "пожалеть", "лечить", "валяться", "зарабатывать", "охватить", "предусматривать", "выражаться", "доходить", "обидеть", "обойти", "сломать", "вытянуть", "даваться", "отвернуться", "прощать", "рухнуть", "свернуть", "стесняться", "возражать", "выделяться", "осветить", "приступить", "пробормотать", "длиться", "изложить", "обозначить", "полюбить", "проиграть", "распахнуть", "провожать", "реагировать", "рисковать", "устроиться", "увеличиться", "кончить", "столкнуться", "заснуть", "свести", "отправляться", "сбить", "кончаться", "нарушать", "выпасть", "добиваться", "предупреждать", "прервать", "счесть", "варить", "полететь", "призывать", "выбраться", "выделять", "расстрелять", "разглядеть", "успокоить", "кинуться", "переставать", "формироваться", "заглядывать", "задумываться", "командовать", "мыть", "отобрать", "хохотать", "скрыться", "видать", "выжить", "выносить", "записывать", "перебить", "тронуть", "прятаться", "размышлять", "располагать", "ломать", "рваться", "беспокоиться", "заканчиваться", "оформить", "шептать", "миновать", "разделять", "сформулировать", "наполнить", "поздравлять", "покидать", "блестеть", "вносить", "коснуться", "потребоваться", "вложить", "понести", "прошептать", "рассмеяться", "творить", "планироваться", "уступать", "обсудить", "оторвать", "убежать", "добавлять", "поделиться", "потянуться", "выслушать", "набирать", "отрезать", "заботиться", "почитать", "вводить", "пожелать", "посещать", "потянуть", "походить", "прижать", "прислушиваться", "торговать", "гарантировать", "избавиться", "рождаться", "возрасти", "ограничить", "предлагаться", "предъявить", "прятать", "крутить", "разобрать", "ранить", "дружить", "расстаться", "уставиться", "закурить", "обсуждаться", "поглядывать", "дожидаться", "кивать", "сбросить", "уснуть", "сниться", "бормотать", "переехать", "послышаться", "противоречить", "расширить", "уточнить", "мучить", "сниматься", "уверять", "бросаться", "отложить", "отмечаться", "разбудить", "распространяться", "удержаться", "пострадать", "сократить" };
                    //names = new List<string> { "работать"};
                    break;
                case "FW":
                case "NN":
                case "NNP":
                case "NNPS":
                case "NNS":
                    names = new List<string> { "год", "человек", "время", "дело", "жизнь", "день", "рука", "раз", "работа", "слово", "место", "лицо", "друг", "глаз", "вопрос", "дом", "сторона", "страна", "мир", "случай", "голова", "ребенок", "сила", "конец", "вид", "система", "часть", "город", "отношение", "женщина", "деньги", "земля", "машина", "вода", "отец", "проблема", "час", "право", "нога", "решение", "дверь", "образ", "история", "власть", "закон", "война", "бог", "голос", "тысяча", "книга", "возможность", "результат", "ночь", "стол", "имя", "область", "статья", "число", "компания", "народ", "жена", "группа", "развитие", "процесс", "суд", "условие", "средство", "начало", "свет", "пора", "путь", "душа", "уровень", "форма", "связь", "минута", "улица", "вечер", "качество", "мысль", "дорога", "мать", "действие", "месяц", "государство", "язык", "любовь", "взгляд", "мама", "век", "школа", "цель", "общество", "деятельность", "организация", "президент", "комната", "порядок", "момент", "театр", "письмо", "утро", "помощь", "ситуация", "роль", "рубль", "смысл", "состояние", "квартира", "орган", "внимание", "тело", "труд", "сын", "мера", "смерть", "рынок", "программа", "задача", "предприятие", "окно", "разговор", "правительство", "семья", "производство", "информация", "положение", "центр", "ответ", "муж", "автор", "стена", "интерес", "федерация", "правило", "управление", "мужчина", "идея", "партия", "совет", "счет", "сердце", "движение", "вещь", "материал", "неделя", "чувство", "глава", "наука", "ряд", "газета", "причина", "плечо", "цена", "план", "речь", "точка", "основа", "товарищ", "культура", "данные", "мнение", "документ", "институт", "ход", "проект", "встреча", "директор", "срок", "палец", "опыт", "служба", "судьба", "девушка", "очередь", "лес", "состав", "член", "количество", "событие", "объект", "зал", "создание", "значение", "период", "шаг", "брат", "искусство", "структура", "номер", "пример", "исследование", "гражданин", "игра", "начальник", "рост", "тема", "принцип", "метод", "тип", "фильм", "край", "гость", "воздух", "характер", "борьба", "использование", "размер", "образование", "мальчик", "кровь", "район", "небо", "армия", "класс", "представитель", "участие", "девочка", "политика", "герой", "картина", "доллар", "спина", "территория", "пол", "поле", "изменение", "направление", "рисунок", "течение", "церковь", "банк", "сцена", "население", "большинство", "музыка", "правда", "свобода", "память", "команда", "союз", "врач", "договор", "дерево", "факт", "хозяин", "природа", "угол", "телефон", "позиция", "двор", "писатель", "самолет", "объем", "род", "солнце", "вера", "берег", "спектакль", "фирма", "способ", "завод", "цвет", "журнал", "руководитель", "специалист", "оценка", "регион", "песня", "процент", "родитель", "море", "требование", "основание", "половина", "роман", "круг", "анализ", "стихи", "автомобиль", "экономика", "литература", "бумага", "поэт", "степень", "господин", "надежда", "предмет", "вариант", "министр", "граница", "дух", "модель", "операция", "пара", "сон", "название", "ум", "повод", "старик", "миллион", "успех", "счастье", "ребята", "кабинет", "магазин", "пространство", "выход", "удар", "база", "знание", "текст", "защита", "руководство", "площадь", "сознание", "возраст", "участник", "участок", "пункт", "линия", "желание", "папа", "доктор", "губа", "дочь", "среда", "председатель", "представление", "солдат", "художник", "волос", "оружие", "соответствие", "ветер", "парень", "зрение", "генерал", "огонь", "понятие", "строительство", "ухо", "грудь", "нос", "страх", "услуга", "содержание", "радость", "безопасность", "продукт", "комплекс", "бизнес", "сад", "сотрудник", "лето", "курс", "предложение", "рот", "технология", "реформа", "отсутствие", "собака", "камень", "будущее", "рассказ", "контроль", "река", "продукция", "сумма", "техника", "здание", "сфера", "необходимость", "фонд", "подготовка", "лист", "республика", "хозяйство", "воля", "бюджет", "снег", "деревня", "мужик", "элемент", "обстоятельство", "немец", "победа", "источник", "звезда", "выбор", "масса", "итог", "сестра", "практика", "проведение", "карман", "слава", "кухня", "определение", "функция", "войско", "комиссия", "применение", "капитан", "работник", "обеспечение", "офицер", "фамилия", "предел", "выборы", "ученый", "бутылка", "бой", "теория", "зона", "отдел", "зуб", "разработка", "личность", "гора", "товар", "метр", "праздник", "влияние", "читатель", "удовольствие", "актер", "слеза", "ответственность", "учитель", "акт", "боль", "множество", "особенность", "показатель", "корабль", "звук", "впечатление", "частность", "детство", "вывод", "профессор", "доля", "норма", "прошлое", "командир", "коридор", "поддержка", "рамка", "враг", "этап", "черт", "дед", "собрание", "прием", "болезнь", "клетка", "кожа", "заявление", "попытка", "сравнение", "расчет", "депутат", "комитет", "знак", "дядя", "учет", "хлеб", "чай", "режим", "целое", "вирус", "выражение", "здоровье", "зима", "десяток", "глубина", "сеть", "студент", "секунда", "скорость", "поиск", "суть", "налог", "ошибка", "доход", "режиссер", "поверхность", "ощущение", "карта", "клуб", "станция", "революция", "колено", "министерство", "стекло", "этаж", "высота", "бабушка", "трубка", "газ", "мастер", "поведение", "столица", "механизм", "передача", "способность", "подход", "энергия", "существование", "исполнение", "кино", "сожаление", "заместитель", "ресурс", "акция", "рождение", "администрация", "стоимость", "улыбка", "артист", "сосед", "фраза", "фигура", "субъект", "реакция", "список", "фотография", "журналист", "май", "нарушение", "заседание", "толпа", "больница", "существо", "свойство", "долг", "поколение", "животное", "схема", "усилие", "отличие", "остров", "противник", "волна", "реализация", "страница", "формирование", "житель", "красота", "птица", "растение", "тень", "явление", "храм", "запах", "водка", "наличие", "ужас", "одежда", "кресло", "больной", "поезд", "университет", "традиция", "адрес", "декабрь", "ладонь", "сведение", "цветок", "лидер", "октябрь", "занятие", "сентябрь", "помещение", "январь", "зритель", "редакция", "стиль", "весна", "фактор", "август", "известие", "зависимость", "охрана", "оборудование", "концерт", "отделение", "расход", "выставка", "милиция", "переход", "эпоха", "запад", "произведение", "родина", "собственность", "тайна", "трава", "лагерь", "имущество", "кровать", "аппарат", "середина", "март", "клиент", "дама", "фронт", "отрасль", "стул", "беседа", "законодательство", "продажа", "повышение", "музей", "след", "полковник", "сомнение", "понимание", "апрель", "князь", "рыба", "дума", "кодекс", "сутки", "чудо", "шея", "судья", "крыша", "настроение", "поток", "должность", "преступление", "мозг", "честь", "пост", "еврей", "июнь", "сотня", "дождь", "лестница", "дача", "установка", "появление", "получение", "образец", "труба", "главное", "осень", "костюм", "баба", "ценность", "обязанность", "пьеса", "таблица", "вино", "воспоминание", "лошадь", "коллега", "организм", "ученик", "учреждение", "открытие", "том", "черта", "характеристика", "выполнение", "оборона", "выступление", "температура", "перспектива", "подруга", "приказ", "жертва", "ресторан", "километр", "спор", "вкус", "признак", "промышленность", "американец", "лоб", "заключение", "восток", "исключение", "ключ", "постановление", "слой", "бок", "июль", "перевод", "секретарь", "кусок", "слух", "польза", "звонок", "обстановка", "чиновник", "соглашение", "деталь", "русский", "тишина", "зарплата", "билет", "подарок", "тюрьма", "ящик", "конкурс", "книжка", "изучение", "просьба", "царь", "публика", "смех", "сообщение", "угроза", "беда", "блок", "достижение", "назначение", "реклама", "портрет", "масло", "стакан", "урок", "часы", "крик", "творчество", "телевизор", "инструмент", "концепция", "лейтенант", "экран", "дно", "реальность", "канал", "мясо", "знакомый", "щека", "конфликт", "переговоры", "запись", "вагон", "площадка", "последствие", "сотрудничество", "зеркало", "тон", "академия", "палата", "потребность", "ноябрь", "увеличение", "дурак", "поездка", "обед", "потеря", "февраль", "мероприятие", "парк", "принятие", "устройство", "вещество", "категория", "сезон", "гостиница", "издание", "объединение", "темнота", "человечество", "колесо", "опасность", "разрешение", "воздействие", "коллектив", "камера", "запас", "следствие", "длина", "крыло", "округ", "фон", "кандидат", "родственник", "давление", "присутствие", "взаимодействие", "доска", "партнер", "двигатель", "шум", "достоинство", "грех", "нож", "полет", "страсть", "испытание", "TRUE", "оплата", "разница", "водитель", "пакет", "снижение", "формула", "живот", "капитал", "мост", "новость", "эффект", "вход", "губернатор", "доклад", "смена", "убийство", "эксперт", "автобус", "платье", "кадр", "тетя", "общение", "психология", "лев", "порог", "проверка", "процедура", "рабочий", "ремонт", "обращение", "обучение", "ожидание", "памятник", "корень", "наблюдение", "буква", "доказательство", "признание", "постель", "штаб", "владелец", "компьютер", "инженер", "старуха", "лодка", "ракета", "серия", "шутка", "вершина", "выпуск", "кулак", "лед", "торговля", "нефть", "молодежь", "цифра", "корпус", "недостаток", "сапог", "сущность", "талант", "эффективность", "кофе", "полоса", "основное", "рассмотрение", "сбор", "штат", "следователь", "жилье", "мешок", "описание", "куст", "отказ", "замок", "редактор", "дворец", "забота", "пиво", "диван", "столик", "эксперимент", "печать", "кольцо", "пистолет", "воспитание", "начальство", "профессия", "ворота", "добро", "дружба", "покой", "риск", "окончание", "дым", "брак", "величина", "записка", "инициатива", "совесть", "активность", "кость", "спорт", "кредит", "господь", "майор", "конференция", "потолок", "библиотека", "помощник", "конструкция", "отдых", "ручка", "металл", "молоко", "прокурор", "транспорт", "поэзия", "соединение", "краска", "расстояние", "мечта", "село", "еда", "зло", "подразделение", "сюжет", "рубеж", "сигнал", "атмосфера", "крест", "вес", "взрыв", "контакт", "сигарета", "восторг", "золото", "почва", "премия", "король", "подъезд", "шанс", "автомат", "заказ", "мальчишка", "очки", "миг", "штука", "чтение", "поселок", "свидетель", "ставка", "сумка", "удивление", "хвост", "песок", "поворот", "возвращение", "мгновение", "статус", "озеро", "строй", "параметр", "сказка", "тенденция", "вина", "дыхание", "версия", "масштаб", "монастырь", "хозяйка", "дочка", "танец", "эксплуатация", "коммунист", "пенсия", "приятель", "объяснение", "набор", "производитель", "пыль", "философия", "мощность", "обязательство", "уход", "горло", "кризис", "указание", "плата", "яблоко", "препарат", "действительность", "москвич", "остаток", "изображение", "сделка", "сочинение", "покупатель", "танк", "затрата", "строка", "единица", "обработка", "чемпионат" };
                    //names = new List<string> { "работу" };
                    break;
                case "JJ":
                case "JJR":
                case "JJS":
                    names = new List<string> {"новый", "большой", "должен", "последний", "российский", "русский", "общий", "высокий", "хороший", "главный", "лучший", "маленький", "молодой", "государственный", "полный", "советский", "настоящий", "старый", "разный", "нужный", "белый", "собственный", "черный", "основной", "далекий", "подобный", "следующий", "равный", "живой", "известный", "военный", "важный", "великий", "простой", "огромный", "политический", "московский", "готовый", "красный", "современный", "социальный", "ранний", "особый", "целый", "плохой", "сильный", "скорый", "крупный", "внутренний", "экономический", "правый", "федеральный", "близкий", "похожий", "различный", "необходимый", "единственный", "легкий", "человеческий", "международный", "дорогой", "небольшой", "местный", "бывший", "американский", "широкий", "мировой", "тяжелый", "возможный", "отдельный", "средний", "красивый", "короткий", "серьезный", "интересный", "добрый", "национальный", "длинный", "страшный", "прошлый", "общественный", "детский", "единый", "определенный", "низкий", "чужой", "странный", "чистый", "поздний", "специальный", "научный", "сложный", "реальный", "способный", "малый", "старший", "личный", "свободный", "обычный", "прекрасный", "высший", "темный", "гражданский", "внешний", "боевой", "рабочий", "глубокий", "долгий", "прямой", "финансовый", "открытый", "знакомый", "нынешний", "исторический", "народный", "знаменитый", "больший", "пустой", "очередной", "судебный", "зеленый", "немецкий", "золотой", "технический", "нормальный", "городской", "соответствующий", "любимый", "родной", "западный", "быстрый", "холодный", "конкретный", "иностранный", "левый", "счастливый", "святой", "точный", "частый", "значительный", "связанный", "уверенный", "тонкий", "центральный", "будущий", "физический", "частный", "мелкий", "английский", "постоянный", "тихий", "европейский", "ближайший", "отечественный", "теплый", "духовный", "прежний", "профессиональный", "французский", "женский", "крайний", "божий", "дальнейший", "естественный", "информационный", "железный", "горячий", "веселый", "официальный", "серый", "опасный", "слабый", "яркий", "летний", "дополнительный", "правильный", "лесной", "умный", "северный", "ясный", "милый", "светлый", "редкий", "верный", "юридический", "административный", "узкий", "художественный", "древний", "массовый", "генеральный", "замечательный", "задний", "региональный", "здоровый", "активный", "литературный", "острый", "богатый", "творческий", "мягкий", "ночной", "налоговый", "толстый", "бедный", "верхний", "вечный", "лишний", "морской", "нижний", "спокойный", "сухой", "синий", "сегодняшний", "медицинский", "свежий", "трудный", "уголовный", "желтый", "мощный", "деревянный", "полезный", "дальний", "домашний", "традиционный", "жесткий", "крепкий", "виноватый", "культурный", "приятный", "круглый", "понятный", "голубой", "удивительный", "мужской", "правовой", "больной", "мертвый", "совместный", "семейный", "природный", "православный", "учебный", "эффективный", "материальный", "невозможный", "соседний", "психологический", "музыкальный", "голый", "обязательный", "исполнительный", "партийный", "существенный", "восточный", "сельский", "характерный", "неожиданный", "видный", "честный", "резкий", "младший", "трудовой", "строгий", "южный", "практический", "многочисленный", "согласный", "спортивный", "истинный", "злой", "индивидуальный", "мокрый", "дикий", "рад", "коммерческий", "театральный", "воздушный", "дешевый", "пьяный", "областной", "твердый", "вооруженный", "религиозный", "промышленный", "денежный", "китайский", "последующий", "грязный", "земной", "классический", "неизвестный", "торговый", "привычный", "глупый", "обратный", "транспортный", "достойный", "удобный", "конечный", "производственный", "школьный", "передний", "каменный", "ценный", "предыдущий", "солнечный", "жизненный", "смешной", "несчастный", "арбитражный", "случайный", "обязанный", "горный", "зарубежный", "юный", "положительный", "довольный", "телефонный", "японский", "указанный", "деловой", "минимальный", "электронный", "одинаковый", "химический", "временной", "еврейский", "окружающий", "опытный", "космический", "меньший", "тайный", "закрытый", "отличный", "ведущий", "верховный", "уникальный", "популярный", "взрослый", "розовый", "скромный", "технологический", "старинный", "непонятный", "бесконечный", "независимый", "нежный", "зимний", "талантливый", "мирный", "ужасный", "квадратный", "незнакомый", "строительный", "крупнейший", "густой", "действующий", "надежный", "очевидный", "пожилой", "аналогичный", "законный", "муниципальный", "максимальный", "неприятный", "особенный", "прозрачный", "церковный", "громкий", "самостоятельный", "электрический", "нервный", "заметный", "важнейший", "стратегический", "одинокий", "бюджетный", "ответственный", "рыночный", "крутой", "противоположный", "рыжий", "текущий", "ядерный", "обыкновенный", "подлинный", "вынужденный", "грубый", "металлический", "абсолютный", "интеллектуальный", "статистический", "необычный", "недавний", "рекламный", "служебный", "письменный", "итальянский", "половой", "глухой", "предварительный", "чеченский", "экологический", "длительный", "страховой", "всеобщий", "демократический", "душевный", "печальный", "пенсионный", "объективный", "теоретический", "моральный", "инвестиционный", "земельный", "невероятный", "законодательный", "вечерний", "идеальный", "непосредственный", "президентский", "столичный", "хозяйственный", "сладкий", "водный", "доступный", "уважаемый", "банковский", "цветной", "жилой", "оперативный", "христианский", "разнообразный", "тесный", "блестящий", "жестокий", "плотный", "четкий", "публичный", "исходный", "социалистический", "модный", "ровный", "нравственный", "своеобразный", "успешный", "благородный", "священный", "явный", "суровый", "существующий", "бледный", "ленинградский", "ключевой", "божественный", "искусственный", "намерен", "сумасшедший", "устойчивый", "вчерашний", "коммунистический", "окончательный", "взаимный", "развитой", "качественный", "приличный", "царский", "железнодорожный", "серебряный", "актуальный", "сплошной", "выдающийся", "украинский", "худой", "газовый", "разумный", "должностной", "великолепный", "невидимый", "нормативный", "положенный", "седой", "автомобильный", "повышенный", "справедливый", "гигантский", "конституционный", "подземный", "давний", "небесный", "нефтяной", "голодный", "избирательный", "компьютерный", "философский", "двойной", "процессуальный", "психический", "глобальный", "польский", "потенциальный", "коллективный", "наибольший", "стеклянный", "атомный", "мрачный", "достаточный", "отрицательный", "головной", "бытовой", "горький", "радостный", "оригинальный", "революционный", "типичный", "трагический", "утренний", "сексуальный", "таинственный", "таможенный", "принципиальный", "удачный", "чудесный", "противный", "вредный", "книжный", "начальный", "почетный", "правительственный", "воинский", "дурной", "кожаный", "перспективный", "ближний", "выгодный", "критический", "экспериментальный", "торжественный", "грустный", "комплексный", "неплохой", "жалкий", "посторонний", "тогдашний", "ледяной", "структурный", "занятый", "могучий", "громадный", "сталинский", "сельскохозяйственный", "славный", "британский", "кредитный", "любопытный", "оптимальный", "районный", "стандартный", "немалый", "бессмысленный", "натуральный", "негативный", "плоский", "сибирский", "боковой", "дорожный", "математический", "идеологический", "незаконный", "авиационный", "программный", "самарский", "базовый", "биологический", "гениальный", "деревенский", "загадочный", "грозный", "проклятый", "волшебный", "подводный", "сырой", "первичный", "предстоящий", "нелепый", "недовольный", "осенний", "пушкинский", "греческий", "солидный", "энергетический", "всемирный", "контрольный", "поэтический", "симпатичный", "малейший", "специфический", "бурный", "весенний", "коммунальный", "роскошный", "территориальный", "неизбежный", "авторский", "совершенный", "напряженный", "краткий", "праздничный", "подходящий", "неправильный", "неведомый", "бесплатный", "мудрый", "свойственный", "силовой", "вкусный", "механический", "ограниченный", "жуткий", "петербургский", "смелый", "тяжкий", "жаркий", "медленный", "годовой", "универсальный", "христов", "личной", "преподобный", "формальный", "коричневый", "кровавый", "либеральный", "наивный", "жирный", "снежный", "эмоциональный", "искренний", "германский", "медный", "пермский", "телевизионный", "римский", "секретный", "благоприятный", "первоначальный", "внимательный", "кремлевский", "присущий", "стальной", "рядовой", "предвыборный", "скрытый", "фантастический", "безумный", "благодарный", "драгоценный", "осторожный", "гордый", "обширный", "ласковый", "одетый", "студенческий", "автоматический", "безопасный", "вольный", "мобильный", "невысокий", "решительный", "влажный", "гладкий", "дурацкий", "прочный", "функциональный", "решающий", "заработный", "педагогический", "хитрый", "армейский", "геологический", "ложный", "преступный", "смертный", "условный", "жилищный", "просторный", "элементарный", "внезапный", "привлекательный", "тупой", "жидкий", "покойный", "усталый", "коренной", "мясной", "актерский", "скучный", "исключительный", "минувший", "ракетный", "ученый", "комсомольский", "ненужный", "полевой", "ленинский", "почтовый", "правоохранительный", "слепой", "управляющий", "встречный", "забавный", "логический", "непрерывный", "отчаянный", "чуждый", "корпоративный", "собачий", "чудовищный", "автономный", "интеллигентный", "целевой", "драматический", "любовный", "мучительный", "непростой", "специализированный", "товарный", "бумажный", "грузинский", "кадровый", "откровенный", "стройный", "татарский", "действительный", "значимый", "израильский", "прошедший", "крохотный", "олимпийский", "организационный", "фактический", "мамин", "необыкновенный", "склонный", "установленный", "дневной", "рациональный", "светский", "уютный", "изящный", "незначительный", "архитектурный", "валютный", "всевозможный", "испанский", "тревожный", "магнитный", "милицейский", "фундаментальный", "чрезвычайный", "парижский", "романтический", "королевский", "молодежный", "наружный", "новенький", "этнический", "вирусный", "подробный", "социально-экономический", "арабский", "защитный", "поверхностный", "средневековый", "звездный", "равнодушный", "передовой", "сердечный", "принятый", "солдатский", "здешний", "многолетний", "срочный", "альтернативный", "животный", "крестьянский", "молчаливый", "новейший", "заинтересованный", "криминальный", "уличный", "шумный", "академический", "болезненный", "грандиозный", "гуманитарный", "лошадиный", "образовательный", "худший", "дружеский", "недостаточный", "стабильный", "неизменный", "образованный", "октябрьский", "регулярный", "относительный", "парламентский", "разноцветный", "всероссийский", "генетический", "интенсивный", "поразительный", "печатный", "позитивный", "славянский", "эстетический", "величайший", "неясный", "убежденный", "бешеный", "женатый", "роковой", "газетный", "неподвижный", "новогодний", "садовый", "локальный", "резиновый", "кавказский", "престижный", "турецкий", "казенный", "саратовский", "бесполезный", "молочный", "трезвый", "цивилизованный", "властный", "иркутский", "кривой", "потребительский", "ручной", "сомнительный", "отвратительный", "пышный", "аналитический", "входной", "колючий", "неверный", "офицерский", "пыльный", "радикальный", "немыслимый", "шахматный", "дежурный", "пестрый", "пищевой", "энергичный", "адекватный", "инженерный", "пожарный", "вертикальный", "киевский", "крошечный", "минеральный", "акционерный", "былой", "должный", "следственный", "невинный", "повседневный", "слышный", "смутный", "тюремный", "финский", "импортный", "клинический", "процентный", "индийский", "мутный", "нехороший", "системный", "географический", "классный", "тверской", "промежуточный", "дипломатический", "лагерный", "полноценный", "прохладный", "субъективный", "аккуратный", "легендарный", "людской", "люсин", "предельный", "здравый", "органический", "порядочный", "прикладной", "примитивный", "растительный", "чайный", "возрастной", "долгосрочный", "лысый", "провинциальный", "смертельный", "футбольный", "хрупкий", "ежегодный", "колоссальный", "вероятный", "запасной", "парадный", "питерский", "прогрессивный", "видимый", "организованный", "пограничный", "декоративный", "добровольный", "латинский", "недоступный", "грузовой", "зрительный", "параллельный", "сознательный", "страстный", "умственный", "бетонный", "ответный", "рыбный", "ветхий", "лунный", "молоденький", "нелегкий", "неудачный", "ничтожный", "отдаленный", "последовательный", "фирменный", "экспертный", "абстрактный", "агрессивный", "вторичный", "оборонный", "персональный", "послевоенный", "блаженный", "лекарственный", "подозрительный", "сказочный", "столовый", "алюминиевый", "гибкий", "заданный", "капитальный", "металлургический", "тепловой", "благополучный", "интимный", "материнский", "оранжевый", "соленый", "зенитный", "линейный", "белорусский", "босой", "ежедневный", "пустынный", "огненный", "шелковый", "больничный", "бронзовый", "всяческий", "выходной", "заводской", "излишний", "пластиковый", "родительский", "убедительный", "кирпичный", "пространственный", "тоненький", "грядущий", "командный", "подмосковный", "сравнительный", "сходный", "беременный", "грамотный", "достоверный", "количественный", "конструктивный", "ударный", "героический", "научно-технический", "сонный", "сытый"};
                    break;
                case "PDT":
                case "PRP":
                case "PRP$":
                case "EX":
                case "DT":
                    names = new List<string> { "я", "он", "это", "она", "этот", "они", "мы", "который", "то", "свой", "что", "весь", "так", "ты", "все", "тот*", "вы", "такой", "его", "себя", "один", "как", "сам", "другой", "наш", "мой", "кто", "ее", "где", "там", "какой", "их", "самый", "потом", "ничто", "сейчас", "тут", "каждый", "теперь", "тогда", "здесь", "потому", "какой-то", "что-то", "всегда", "никто", "ваш", "почему", "все", "поэтому", "некоторый", "любой", "никогда", "оно", "никакой", "всякий", "твой", "куда", "иной", "многий", "кто-то", "как-то", "зачем", "данный", "сей", "туда", "какой-нибудь", "откуда", "сюда", "столь", "никак", "когда", "что-нибудь", "почему-то", "где-то", "иначе", "многое", "некий", "что", "когда-то", "остальной", "прочий", "прочее", "отсюда", "нечто", "многие", "чей", "кто-нибудь", "оттуда", "навсегда", "нечего", "куда-то", "какой-либо", "таков", "столько", "никуда", "чего", "сколько", "каков", "другое" };
                    break;
                case "WP":
                case "WRB":
                    names = new List<string> { "где", "докуда", "зачем", "как-то", "каков", "какой", "куда", "насколько", "отколь", "откуда", "откудова", "отчего", "почему", "сколько" };
                    break;
                case "CC":
                    names = new List<string> { "или","и","но","еще"};
                    break;
                case "WDT":
                    names = new List<string> { "Этот", "тот", "какой", "который" };
                    break;
                case "RP":
                case "RB":
                case "RBR":
                case "RBS":
                    names = new List<string> { "еще", "уже", "очень", "можно", "надо", "нет", "тоже", "более", "конечно", "также", "вдруг", "почти", "сразу", "хорошо", "сегодня", "совсем", "вообще", "больше", "вместе", "например", "нужно", "опять", "снова", "нельзя", "особенно", "рядом", "назад", "совершенно", "значит", "давно", "действительно", "наконец", "часто", "быстро", "долго", "правда", "иногда", "чуть", "затем", "слишком", "вполне", "далее", "может", "впрочем", "наверное", "пока", "достаточно", "менее", "кстати", "сначала", "довольно", "однажды", "домой", "скоро", "наиболее", "обычно", "далеко", "трудно", "возможно", "точно", "весьма", "легко", "впервые", "видно", "немного", "практически", "необходимо", "вовсе", "рано", "несмотря", "сильно", "кажется", "известно", "дома", "завтра", "видимо", "мало", "одновременно", "тихо", "недавно", "вновь", "вперед", "вчера", "полностью", "плохо", "постоянно", "едва", "ясно", "обязательно", "прямо", "медленно", "спокойно", "вскоре", "невозможно", "примерно", "гораздо", "уж", "неожиданно", "наоборот", "естественно" };
                    break;
                case "CD":
                    names = new List<string> { "первый", "два", "несколько", "три", "второй", "один", "много", "пять", "третий", "сколько", "оба", "четыре", "больше", "десять", "более", "двадцать", "мало", "шесть", "сто", "тридцать", "семь", "двое", "столько", "сорок", "четвертый", "восемь", "меньше", "пятьдесят", "пятый", "полтора", "трое", "пятнадцать", "девять", "немало", "двенадцать", "шестой", "седьмой", "двести", "немного", "шестьдесят", "восьмой", "триста", "девятый", "десятый", "семьдесят", "одиннадцать", "четверо", "двадцатый", "восемьдесят", "восемнадцать", "девяносто", "пятьсот", "пол", "шестнадцать", "семнадцать", "тридцатый", "четырнадцать", "тринадцать", "пятеро", "двенадцатый", "четыреста", "одиннадцатый", "семнадцатый", "шестидесятый", "семидесятый", "девятнадцатый", "девятнадцать", "пятидесятый", "девятьсот", "сороковой", "тринадцатый", "восемнадцатый", "девяностый", "шестеро", "пятнадцатый", "восьмидесятый", "шестнадцатый", "восемьсот", "семеро", "шестьсот", "семьсот", "четырнадцатый", "сотый", "немножко", "полтораста", "много-много", "тридевять", "шестисотый", "десятеро", "обоего", "восьмеро", "полста" };
                    break;
                case "UH":
                    names = new List<string> {"Привет", "Здравствуй", "Добрый день", "Добрый вечер", "Доброе утро", "Доброй ночи" };
                    break;
                case "IN":
                    names = new List<string> {"и", "в", "не", "на", "с", "что", "а", "по", "к", "но", "как", "из", "у", "за", "от", "о", "для", "же", "только", "или", "бы", "до", "если", "когда", "вот", "при", "чтобы", "даже", "во", "со", "под", "ну", "после", "без", "ли", "то", "ни", "через", "да", "да", "чем", "об", "просто", "перед", "между", "нет", "лишь", "именно", "хотя", "ни", "над", "ведь", "однако", "это", "про", "пока", "уж", "кроме", "среди", "из-за", "все-таки", "даже", "ко", "против", "около", "ведь", "поскольку", "пусть", "словно", "хоть", "либо", "ж", "причем", "будто", "всего", "будто", "чтоб", "разве", "вместо", "вокруг", "прежде", "зато", "прямо", "ибо", "вроде", "возле", "лучше", "сквозь", "ладно", "ради", "только", "то", "ли", "давай", "мол", "пожалуйста", "благодаря", "согласно", "хотя", "хоть" };
                    break;
                case ":":
                case ",":
                case ".":
                case "\"":
                    return original;

                case "TO":
                case "SYM":
                    return "";
                default:
                    return original+"["+str+"]";
            }
            
            int index = rand.Next(names.Count);
            var name = names[index];
            names.RemoveAt(index);
            return name;
        }
    }
}